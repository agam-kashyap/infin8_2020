{"version":3,"sources":["../../../../.tmp-es/components/button/__tests__/button.browser-test.jsx"],"names":["React","ReactDOM","TestUtils","expect","assign","SLDSButton","IconSettings","Simulate","findRenderedDOMComponentWithTag","findRenderedDOMComponentWithClass","mockCallback","sinon","spy","describe","body","defaultProps","label","onClick","variant","renderButton","inst","document","createElement","appendChild","render","removeButton","unmountComponentAtNode","removeChild","createButton","props","getButton","cmp","btn","beforeEach","id","text","theme","style","background","afterEach","it","textContent","to","equal","className","include","getAttribute","backgroundColor","should","formAction","svg","iconName","iconCategory","iconPosition","baseVal","asstText","assistiveText","icon","iconSize","iconVariant","iconPath","title","use","svgHref","before","after","clicked","setClick","be","false","click","true"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-render-return-value */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport TestUtils from 'react-dom/test-utils';\nimport { expect } from 'chai';\nimport assign from 'lodash.assign';\n\nimport SLDSButton from '../../button';\nimport IconSettings from '../../icon-settings';\n\nconst {\n\tSimulate,\n\tfindRenderedDOMComponentWithTag,\n\tfindRenderedDOMComponentWithClass,\n} = TestUtils;\n\nconst mockCallback = sinon.spy();\n\ndescribe('SLDSButton: ', () => {\n\tlet body;\n\n\tconst defaultProps = {\n\t\tlabel: 'Neutral',\n\t\tonClick: mockCallback,\n\t\tvariant: 'neutral',\n\t};\n\n\tconst renderButton = (inst) => {\n\t\tbody = document.createElement('div');\n\t\tdocument.body.appendChild(body);\n\t\t/* deepscan-disable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t\treturn ReactDOM.render(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{inst}</IconSettings>,\n\t\t\tbody\n\t\t);\n\t\t/* deepscan-enable REACT_ASYNC_RENDER_RETURN_VALUE */\n\t};\n\n\tfunction removeButton() {\n\t\tReactDOM.unmountComponentAtNode(body);\n\t\tdocument.body.removeChild(body);\n\t}\n\n\tconst createButton = (props) =>\n\t\tReact.createElement(SLDSButton, assign({}, defaultProps, props));\n\tconst getButton = (props) => renderButton(createButton(props));\n\n\tdescribe('Basic Button Props Render', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tid: 'custom-id',\n\t\t\t\ttext: 'Brand',\n\t\t\t\ttheme: 'brand',\n\t\t\t\tstyle: { background: 'rgb(18, 49, 35)' },\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders correct label', () => {\n\t\t\texpect(btn.textContent).to.equal('Neutral');\n\t\t});\n\n\t\tit('renders correct variant styles', () => {\n\t\t\texpect(btn.className).to.include('slds-button_neutral');\n\t\t});\n\n\t\tit('renders custom id', () => {\n\t\t\texpect(btn.getAttribute('id')).to.equal('custom-id');\n\t\t});\n\n\t\tit('renders custom styles', function() {\n\t\t\tbtn.style.backgroundColor.should.equal('rgb(18, 49, 35)');\n\t\t});\n\t});\n\n\tdescribe('Form Props Render ', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tconst formAction = 'http://localhost/some/url';\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tid: 'custom-id',\n\t\t\t\tformAction,\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders formAction prop', () => {\n\t\t\texpect(btn.formAction).to.equal(formAction);\n\t\t});\n\t});\n\n\tdescribe('Icon with Label Button Props Render', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet svg;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tlabel: 'Neutral with Icon',\n\t\t\t\ticonName: 'download',\n\t\t\t\ticonCategory: 'action',\n\t\t\t\ticonPosition: 'right',\n\t\t\t\tvariant: 'neutral',\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t\tsvg = findRenderedDOMComponentWithClass(cmp, 'slds-button__icon');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(btn.textContent).to.equal('Neutral with Icon');\n\t\t});\n\n\t\tit('renders icon', () => {\n\t\t\texpect(svg.className.baseVal).to.include('slds-button__icon_right');\n\t\t});\n\t});\n\n\tdescribe('Icon Button Props render', () => {\n\t\tlet cmp;\n\t\tlet asstText;\n\t\tlet svg;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'my settings' },\n\t\t\t\tvariant: 'icon',\n\t\t\t\ticonCategory: 'utility',\n\t\t\t\ticonName: 'settings',\n\t\t\t\ticonSize: 'small',\n\t\t\t\ticonVariant: 'bare',\n\t\t\t});\n\t\t\tasstText = findRenderedDOMComponentWithClass(cmp, 'slds-assistive-text');\n\t\t\tsvg = findRenderedDOMComponentWithTag(cmp, 'svg');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(asstText.textContent).to.equal('my settings');\n\t\t});\n\n\t\tit('renders icon styles', () => {\n\t\t\texpect(svg.className.baseVal).to.include('slds-button__icon');\n\t\t});\n\t});\n\n\tdescribe('(icon path) Icon Button renders assistive text', () => {\n\t\tlet cmp;\n\t\tlet asstText;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'News' },\n\t\t\t\ticonSize: 'large',\n\t\t\t\ticonPath: '/assets/icons/utility-sprite/svg/symbols.svg#announcement',\n\t\t\t\ttitle: 'announcement',\n\t\t\t});\n\t\t\tasstText = findRenderedDOMComponentWithClass(cmp, 'slds-assistive-text');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders label', () => {\n\t\t\texpect(asstText.textContent).to.equal('News');\n\t\t});\n\t});\n\n\tdescribe('External Path Icon Button renders', () => {\n\t\tlet cmp;\n\t\tlet use;\n\t\tlet svgHref;\n\n\t\tbefore(() => {\n\t\t\tcmp = getButton({\n\t\t\t\tassistiveText: { icon: 'announcement' },\n\t\t\t\tvariant: 'icon',\n\t\t\t\ticonPath: '/assets/icons/utility-sprite/svg/symbols.svg#announcement',\n\t\t\t\ticonSize: 'large',\n\t\t\t\ticonVariant: 'bare',\n\t\t\t});\n\t\t\tuse = findRenderedDOMComponentWithTag(cmp, 'use');\n\t\t\tsvgHref = use.getAttribute('xlink:href');\n\t\t});\n\n\t\tafter(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('renders svg', () => {\n\t\t\texpect(svgHref).to.equal(\n\t\t\t\t'/assets/icons/utility-sprite/svg/symbols.svg#announcement'\n\t\t\t);\n\t\t});\n\t});\n\n\tdescribe('Button Clickable', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tfunction setClick() {\n\t\t\tclicked = true;\n\t\t}\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getButton({\n\t\t\t\tlabel: 'Neutral',\n\t\t\t\tvariant: 'neutral',\n\t\t\t\tonClick: setClick,\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremoveButton();\n\t\t});\n\n\t\tit('can be clicked', () => {\n\t\t\t/* eslint-disable no-unused-expressions */\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.true;\n\t\t\t/* eslint-enable no-unused-expressions */\n\t\t});\n\t});\n});\n"],"file":"button.browser-test.js"}