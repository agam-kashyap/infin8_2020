{"version":3,"sources":["../../../../.tmp-es/components/color-picker/private/hsv-color.jsx"],"names":["React","KEYS","RadioButtonGroup","Radio","ColorUtils","handleClick","event","rangeIndicator","onSaturationValueChange","rect","currentTarget","getBoundingClientRect","focus","saturation","Math","round","clientX","left","width","value","bottom","clientY","height","handleKeyDown","onSaturationNavigate","onValueNavigate","keyDownCallbacks","LEFT","multiplier","delta","RIGHT","UP","DOWN","keyCode","preventDefault","shiftKey","selectedStyle","border","boxShadow","marginRight","unselectedStyle","HsvColor","setState","isTransparentSelected","target","props","onSwatchChange","color","hex","style","borderRadius","swatchStyle","isTransparent","transparentSwatchStyle","fallbackWorkingColor","previousColor","getNewColor","workingColor","id","assistiveText","saturationValueGrid","background","hsv","hue","hueSlider","onHueChange","label","handleSwatchChange","labels","customTabActiveWorkingColorSwatch","customTabTransparentSwatch","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport KEYS from '../../../utilities/key-code';\nimport RadioButtonGroup from '../../../components/radio-button-group';\nimport Radio from '../../../components/radio-button-group/radio';\nimport ColorUtils from '../../../utilities/color';\n\nconst handleClick = (event, rangeIndicator, { onSaturationValueChange }) => {\n\tconst rect = event.currentTarget.getBoundingClientRect();\n\trangeIndicator.focus();\n\tonSaturationValueChange(event, {\n\t\tsaturation: Math.round((event.clientX - rect.left) / rect.width * 100),\n\t\tvalue: Math.round((rect.bottom - event.clientY) / rect.height * 100),\n\t});\n};\n\nconst handleKeyDown = (event, { onSaturationNavigate, onValueNavigate }) => {\n\tconst keyDownCallbacks = {\n\t\t[KEYS.LEFT]: (multiplier) => {\n\t\t\tonSaturationNavigate(event, {\n\t\t\t\tdelta: multiplier * -1,\n\t\t\t});\n\t\t},\n\t\t[KEYS.RIGHT]: (multiplier) => {\n\t\t\tonSaturationNavigate(event, {\n\t\t\t\tdelta: multiplier,\n\t\t\t});\n\t\t},\n\t\t[KEYS.UP]: (multiplier) => {\n\t\t\tonValueNavigate(event, {\n\t\t\t\tdelta: multiplier,\n\t\t\t});\n\t\t},\n\t\t[KEYS.DOWN]: (multiplier) => {\n\t\t\tonValueNavigate(event, {\n\t\t\t\tdelta: multiplier * -1,\n\t\t\t});\n\t\t},\n\t};\n\n\tif (keyDownCallbacks[event.keyCode]) {\n\t\tevent.preventDefault();\n\t\tkeyDownCallbacks[event.keyCode](event.shiftKey ? 10 : 1);\n\t}\n};\n\nconst selectedStyle = {\n\tborder: '1px solid #9e9e9e',\n\tboxShadow: 'rgb(117, 112, 112) 1px 1px 1px',\n\tmarginRight: '2px',\n};\n\nconst unselectedStyle = {\n\tborder: '1px solid #9e9e9e',\n\tmarginRight: '2px',\n};\n\nclass HsvColor extends React.Component {\n\tstatic displayName = 'SLDSHsvColor';\n\n\thandleSwatchChange = (event) => {\n\t\tthis.setState({\n\t\t\tisTransparentSelected: event.target.value === '',\n\t\t});\n\t\tthis.props.onSwatchChange(event);\n\t};\n\n\tisTransparent = () => this.props.color.hex === '';\n\n\trender() {\n\t\tconst style = { border: 'none', borderRadius: 'unset' };\n\t\tconst swatchStyle = this.isTransparent()\n\t\t\t? { ...unselectedStyle }\n\t\t\t: { ...selectedStyle };\n\t\tconst transparentSwatchStyle = this.isTransparent()\n\t\t\t? { ...selectedStyle }\n\t\t\t: { ...unselectedStyle };\n\n\t\t// when working color is transparent: either use the previous color or default to black\n\t\tconst fallbackWorkingColor = this.props.previousColor.hex\n\t\t\t? this.props.previousColor\n\t\t\t: ColorUtils.getNewColor({ hex: '#000000' });\n\t\tconst workingColor = this.isTransparent()\n\t\t\t? fallbackWorkingColor\n\t\t\t: this.props.color;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p\n\t\t\t\t\tclassName=\"slds-assistive-text\"\n\t\t\t\t\tid={`color-picker-instructions-${this.props.id}`}\n\t\t\t\t>\n\t\t\t\t\t{this.props.assistiveText.saturationValueGrid}\n\t\t\t\t</p>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"slds-color-picker__custom-range\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: `hsl(${workingColor.hsv.hue}, 100%, 50%)`,\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\thandleClick(event, this.rangeIndicator, {\n\t\t\t\t\t\t\tonSaturationValueChange: this.props.onSaturationValueChange,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t>\n\t\t\t\t\t{/* eslint-disable jsx-a11y/anchor-has-content */}\n\t\t\t\t\t<a\n\t\t\t\t\t\taria-atomic=\"true\"\n\t\t\t\t\t\taria-describedby={`color-picker-instructions-${this.props.id}`}\n\t\t\t\t\t\taria-live=\"assertive\"\n\t\t\t\t\t\tclassName=\"slds-color-picker__range-indicator\"\n\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\thandleKeyDown(event, { ...this.props });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tref={(rangeIndicator) => {\n\t\t\t\t\t\t\tthis.rangeIndicator = rangeIndicator;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbottom: `${workingColor.hsv.value}%`,\n\t\t\t\t\t\t\tleft: `${workingColor.hsv.saturation}%`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"slds-assistive-text\">{`Saturation ${\n\t\t\t\t\t\t\tworkingColor.hsv.saturation\n\t\t\t\t\t\t}% Brightness: ${workingColor.hsv.value}%`}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"slds-color-picker__hue-and-preview\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclassName=\"slds-assistive-text\"\n\t\t\t\t\t\thtmlFor={`color-picker-input-range-${this.props.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.props.assistiveText.hueSlider}\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\tmax=\"360\"\n\t\t\t\t\t\tclassName=\"slds-color-picker__hue-slider\"\n\t\t\t\t\t\tid={`color-picker-input-range-${this.props.id}`}\n\t\t\t\t\t\tvalue={workingColor.hsv.hue}\n\t\t\t\t\t\tonChange={this.props.onHueChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioButtonGroup\n\t\t\t\t\t\tname={`${this.props.id}-color-picker-swatch-toggle-button-group`}\n\t\t\t\t\t\tassistiveText={{ label: 'Toggle Transparency' }}\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\tonChange={this.handleSwatchChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\tchecked={!this.isTransparent()}\n\t\t\t\t\t\t\tid={`color-picker-active-working-color-swatch-${this.props.id}`}\n\t\t\t\t\t\t\tkey=\"working-color\"\n\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\tlabel: this.props.labels.customTabActiveWorkingColorSwatch,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={swatchStyle}\n\t\t\t\t\t\t\tvalue={workingColor.hex}\n\t\t\t\t\t\t\tvariant=\"swatch\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\tchecked={this.isTransparent()}\n\t\t\t\t\t\t\tid={`color-picker-transparent-swatch-${this.props.id}`}\n\t\t\t\t\t\t\tkey=\"transparent\"\n\t\t\t\t\t\t\tlabels={{ label: this.props.labels.customTabTransparentSwatch }}\n\t\t\t\t\t\t\tstyle={transparentSwatchStyle}\n\t\t\t\t\t\t\tvalue=\"\" // transparent\n\t\t\t\t\t\t\tvariant=\"swatch\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</RadioButtonGroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default HsvColor;\n"],"file":"hsv-color.js"}