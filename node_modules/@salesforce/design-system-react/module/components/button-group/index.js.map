{"version":3,"sources":["../../../.tmp-es/components/button-group/index.jsx"],"names":["React","PropTypes","classNames","assign","shortid","BUTTON_GROUP","propTypes","children","node","isRequired","className","oneOfType","array","object","string","classNameContainer","id","labels","shape","error","label","variant","oneOf","defaultProps","ButtonGroup","props","generatedId","generate","zeroIndexLength","Children","count","map","child","index","newChild","cloneElement","triggerClassName","component","cloneProps","getId","Component","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Button Group design pattern](https://lightningdesignsystem.com/components/button-groups/) in React.\n// Based on SLDS v2.1.1\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport assign from 'lodash.assign';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\n\nimport { BUTTON_GROUP } from '../../utilities/constants';\n\nconst propTypes = {\n\t/**\n\t * Children are expected to be components. If last button triggers a dropdown menu, use Dropdown instead of Button. _Tested with snapshot testing._\n\t */\n\tchildren: PropTypes.node.isRequired,\n\t/**\n\t * CSS classes added to `slds-button-group` or `slds-checkbox_button-group` tag\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * If the `labels.label` prop is set, a `.slds-form-element` classed fieldset element is added as a container. This prop applies classes to that element\n\t */\n\tclassNameContainer: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `error`: Message to display when any of Checkboxes are in an error state. _Tested with snapshot testing._\n\t * * `label`: This label appears above the button group. _Tested with snapshot testing._\n\t */\n\tlabels: PropTypes.shape({\n\t\terror: PropTypes.string,\n\t\tlabel: PropTypes.string,\n\t}),\n\t/**\n\t * Use checkbox variant for \"Checkbox Button Group\" styling and add Checkbox components as children _Tested with snapshot testing._\n\t */\n\tvariant: PropTypes.oneOf(['checkbox', 'list']),\n};\n\nconst defaultProps = { labels: {} };\n\n/**\n * The ButtonGroup component wraps other components (ie. Button, MenuDropdown, PopoverTooltip, Checkboxes, etc).\n */\nclass ButtonGroup extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\trender() {\n\t\t// Merge objects of strings with their default object\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\n\t\tconst zeroIndexLength = React.Children.count(this.props.children) - 1;\n\t\tlet { children } = this.props;\n\t\tif (zeroIndexLength > 0) {\n\t\t\tchildren = React.Children.map(this.props.children, (child, index) => {\n\t\t\t\tlet newChild;\n\t\t\t\tif (index === zeroIndexLength) {\n\t\t\t\t\tnewChild = React.cloneElement(child, {\n\t\t\t\t\t\ttriggerClassName: 'slds-button_last',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn newChild || child;\n\t\t\t});\n\t\t}\n\n\t\tlet component;\n\n\t\tif (this.props.variant === 'checkbox') {\n\t\t\tchildren = React.Children.map(this.props.children, (child) => {\n\t\t\t\tconst cloneProps = {\n\t\t\t\t\tvariant: 'button-group',\n\t\t\t\t};\n\t\t\t\tif (labels.error) {\n\t\t\t\t\tcloneProps['aria-describedby'] = `button-group-error-${this.getId()}`;\n\t\t\t\t}\n\t\t\t\treturn React.cloneElement(child, cloneProps);\n\t\t\t});\n\n\t\t\tcomponent = (\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'slds-checkbox_button-group',\n\t\t\t\t\t\tthis.props.className\n\t\t\t\t\t)}\n\t\t\t\t\tid={this.getId()}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (this.props.variant === 'list') {\n\t\t\tcomponent = (\n\t\t\t\t<ul\n\t\t\t\t\tclassName={classNames('slds-button-group-list', this.props.className)}\n\t\t\t\t\tid={this.getId()}\n\t\t\t\t>\n\t\t\t\t\t{React.Children.map(this.props.children, (child) => <li>{child}</li>)}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\tcomponent = (\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames('slds-button-group', this.props.className)}\n\t\t\t\t\tid={this.getId()}\n\t\t\t\t\trole=\"group\"\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.props.variant === 'checkbox' || this.props.labels.label) {\n\t\t\tcomponent = (\n\t\t\t\t<fieldset\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'slds-form-element',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'slds-has-error': labels.error,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.props.classNameContainer\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<legend className=\"slds-form-element__legend slds-form-element__label\">\n\t\t\t\t\t\t{this.props.labels.label}\n\t\t\t\t\t</legend>\n\t\t\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t\t\t{component}\n\t\t\t\t\t\t{labels.error ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"slds-form-element__help\"\n\t\t\t\t\t\t\t\tid={`button-group-error-${this.getId()}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{labels.error}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t);\n\t\t}\n\n\t\treturn component;\n\t}\n}\n\nButtonGroup.displayName = BUTTON_GROUP;\nButtonGroup.propTypes = propTypes;\nButtonGroup.defaultProps = defaultProps;\n\nexport default ButtonGroup;\n"],"file":"index.js"}