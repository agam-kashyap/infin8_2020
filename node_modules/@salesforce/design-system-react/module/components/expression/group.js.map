{"version":3,"sources":["../../../.tmp-es/components/expression/group.jsx"],"names":["React","PropTypes","classNames","assign","shortid","EXPRESSION_GROUP","Combobox","Button","Input","propTypes","assistiveText","shape","label","string","addCondition","addGroup","id","children","node","className","oneOfType","array","object","events","onChangeTrigger","func","onChangeCustomLogicValue","onAddCondition","onAddGroup","focusOnMount","bool","labels","customLogic","takeAction","triggerAll","triggerAlways","triggerAny","triggerCustom","triggerFormula","isRoot","triggerType","oneOf","customLogicValue","defaultProps","ExpressionGroup","event","data","selection","trigger","props","generatedId","generate","rootNode","input","querySelector","focus","Triggers","getTriggers","t","push","triggerCombobox","onSelect","triggerChange","getId","getTriggerSelection","buttons","icon","body","Component","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Expression Group design pattern](https://lightningdesignsystem.com/components/expression/) in React.\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport assign from 'lodash.assign';\n\n// ### shortid\n// [npmjs.com/package/shortid](https://www.npmjs.com/package/shortid)\n// shortid is a short, non-sequential, url-friendly, unique id generator\nimport shortid from 'shortid';\n\nimport { EXPRESSION_GROUP } from '../../utilities/constants';\n\nimport Combobox from '../combobox';\nimport Button from '../button';\nimport Input from '../input';\n\nconst propTypes = {\n\t/**\n\t *  **Assistive text for accessibility.**\n\t * * `label`: For users of assistive technology, assistive text for the expression group's label.\n\t * * `addCondition`: For users of assistive technology, assistive text for the Add Condition button's icon.\n\t * * `addGroup`: For users of assistive technology, assistive text for the Add Group button's icon.\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tlabel: PropTypes.string,\n\t\taddCondition: PropTypes.string,\n\t\taddGroup: PropTypes.string,\n\t}),\n\t/**\n\t * HTML id for ExpressionGroup component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * `ExpressionGroup` children, accepts `ExpressionCondition`. (Also accepts sub-`ExpressionGroup` if `isRoot`)\n\t */\n\tchildren: PropTypes.node,\n\t/**\n\t * CSS classes to be added to the element with class `.slds-expression__group`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Callbacks for various expression group events such as trigger change, add condition etc\n\t */\n\tevents: PropTypes.shape({\n\t\tonChangeTrigger: PropTypes.func,\n\t\tonChangeCustomLogicValue: PropTypes.func,\n\t\tonAddCondition: PropTypes.func,\n\t\tonAddGroup: PropTypes.func,\n\t}),\n\t/**\n\t * If set to true, the component will focus on the first focusable input upon mounting. This is useful for accessibility when adding new groups.\n\t */\n\tfocusOnMount: PropTypes.bool,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `addCondition`: Label for the Add Condition Button. Defaults to \"Add Condition\"\n\t * * `addGroup`: Label for the Add Group Button. Defaults to \"Add Group\"\n\t * * `customLogic`: Label for the text box for inputting `customLogicValue`, if the `triggerType` is `custom`. Defaults to \"Custom Logic\"\n\t * * `label`: Label for the expression group, to indicate condition connectors based on the parent's trigger-type chosen. Defaults to \"\"\n\t * * `takeAction`: Label for the `triggerType` selector. Defaults to \"Take Action When\"\n\t * * `triggerAll`: Label for the `all` value within the trigger selector\n\t * * `triggerAlways`: Label for the `always` value within the trigger selector\n\t * * `triggerAny`: Label for the `any` value within the trigger selector\n\t * * `triggerCustom`: Label for the `custom` value within the trigger selector\n\t * * `triggerFormula`: Label for the `formula` value within the trigger selector\n\t */\n\tlabels: PropTypes.shape({\n\t\taddCondition: PropTypes.string,\n\t\taddGroup: PropTypes.string,\n\t\tcustomLogic: PropTypes.string,\n\t\tlabel: PropTypes.string,\n\t\ttakeAction: PropTypes.string,\n\t\ttriggerAll: PropTypes.string,\n\t\ttriggerAlways: PropTypes.string,\n\t\ttriggerAny: PropTypes.string,\n\t\ttriggerCustom: PropTypes.string,\n\t\ttriggerFormula: PropTypes.string,\n\t}),\n\t/**\n\t * Whether the group is at root level\n\t */\n\tisRoot: PropTypes.bool,\n\t/**\n\t * Trigger type for the Group\n\t */\n\ttriggerType: PropTypes.oneOf(['all', 'any', 'custom', 'always', 'formula']),\n\t/**\n\t * Sets the input for the custom logic value input box, shown if the `triggerType` is set to `custom`.\n\t */\n\tcustomLogicValue: PropTypes.string,\n};\n\nconst defaultProps = {\n\ttriggerType: 'all',\n\tcustomLogicValue: '',\n\tlabels: {\n\t\tlabel: '',\n\t\ttakeAction: 'Take Action When',\n\t\tcustomLogic: 'Custom Logic',\n\t\taddCondition: 'Add Condition',\n\t\taddGroup: 'Add Group',\n\t\ttriggerAll: 'All Conditions Are Met',\n\t\ttriggerAny: 'Any Condition Is Met',\n\t\ttriggerCustom: 'Custom Logic Is Met',\n\t\ttriggerAlways: 'Always (No Criteria)',\n\t\ttriggerFormula: 'Formula Evaluates To True',\n\t},\n};\n\n/**\n * Expression Group Component\n */\nclass ExpressionGroup extends React.Component {\n\t/**\n\t *  Return triggerType selected, processing the triggerType objects generated\n\t */\n\tstatic triggerChange(event, data) {\n\t\tconst selection = data.selection[0].id;\n\t\tlet trigger = '';\n\t\tif (selection === '1') {\n\t\t\ttrigger = 'all';\n\t\t} else if (selection === '2') {\n\t\t\ttrigger = 'any';\n\t\t} else if (selection === '3') {\n\t\t\ttrigger = 'custom';\n\t\t} else if (selection === '4') {\n\t\t\ttrigger = 'always';\n\t\t} else if (selection === '5') {\n\t\t\ttrigger = 'formula';\n\t\t}\n\t\treturn trigger;\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.generatedId = shortid.generate();\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.focusOnMount && this.rootNode) {\n\t\t\tconst input = this.rootNode.querySelector('input');\n\t\t\tif (input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the Expression Group's HTML id. Generate a new one if no ID present.\n\t */\n\tgetId() {\n\t\treturn this.props.id || this.generatedId;\n\t}\n\n\t/**\n\t * Generate and return trigger type objects, with labels either sent as props or using default props.\n\t */\n\tgetTriggers() {\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\t\treturn [\n\t\t\t{ id: '1', label: labels.triggerAll },\n\t\t\t{ id: '2', label: labels.triggerAny },\n\t\t\t{ id: '3', label: labels.triggerCustom },\n\t\t\t{ id: '4', label: labels.triggerAlways },\n\t\t\t{ id: '5', label: labels.triggerFormula },\n\t\t];\n\t}\n\n\t/**\n\t *  Returns object of trigger from trigger passed as prop\n\t */\n\tgetTriggerSelection() {\n\t\tconst selection = this.props.triggerType;\n\t\tconst Triggers = this.getTriggers();\n\t\tconst t = [];\n\t\tif (selection === 'all') {\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tt.push(Triggers[0]);\n\t\t} else if (selection === 'any') {\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tt.push(Triggers[1]);\n\t\t} else if (selection === 'custom') {\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tt.push(Triggers[2]);\n\t\t} else if (selection === 'always') {\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tt.push(Triggers[3]);\n\t\t} else if (selection === 'formula') {\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tt.push(Triggers[4]);\n\t\t}\n\t\treturn t;\n\t}\n\n\trender() {\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tthis.props.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\n\t\tconst triggerCombobox = (\n\t\t\t<Combobox\n\t\t\t\tevents={{\n\t\t\t\t\tonSelect: (event, data) =>\n\t\t\t\t\t\tthis.props.events.onChangeTrigger(event, {\n\t\t\t\t\t\t\ttriggerType: ExpressionGroup.triggerChange(event, data),\n\t\t\t\t\t\t}),\n\t\t\t\t}}\n\t\t\t\tid={`${this.getId()}-take-action-trigger`}\n\t\t\t\tmultiple={false}\n\t\t\t\toptions={this.getTriggers()}\n\t\t\t\tvariant=\"readonly\"\n\t\t\t\tlabels={{ label: labels.takeAction }}\n\t\t\t\tselection={this.getTriggerSelection()}\n\t\t\t/>\n\t\t);\n\n\t\tconst buttons =\n\t\t\tthis.props.triggerType !== 'always' &&\n\t\t\tthis.props.triggerType !== 'formula' ? (\n\t\t\t\t<div className=\"slds-expression__buttons\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\ticonName=\"add\"\n\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\tid={`${this.getId()}-add-condition-button`}\n\t\t\t\t\t\tlabel={labels.addCondition}\n\t\t\t\t\t\tassistiveText={{ icon: assistiveText.addCondition }}\n\t\t\t\t\t\tonClick={this.props.events.onAddCondition}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.props.isRoot ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\t\ticonName=\"add\"\n\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\tid={`${this.getId()}-add-group-button`}\n\t\t\t\t\t\t\tlabel={labels.addGroup}\n\t\t\t\t\t\t\tassistiveText={{ icon: assistiveText.addGroup }}\n\t\t\t\t\t\t\tonClick={this.props.events.onAddGroup}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t) : null;\n\n\t\tlet body = null;\n\n\t\tif (this.props.triggerType !== 'always') {\n\t\t\tif (this.props.isRoot && this.props.triggerType === 'formula') {\n\t\t\t\tbody = this.props.children;\n\t\t\t} else {\n\t\t\t\tbody = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t{this.props.triggerType === 'custom' ? (\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tlabel={labels.customLogic}\n\t\t\t\t\t\t\t\tclassName=\"slds-expression__custom-logic\"\n\t\t\t\t\t\t\t\tid={`${this.getId()}-custom-logic-input`}\n\t\t\t\t\t\t\t\tvalue={this.props.customLogicValue}\n\t\t\t\t\t\t\t\tvariant=\"base\"\n\t\t\t\t\t\t\t\tonChange={this.props.events.onChangeCustomLogicValue}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<ul>{this.props.children}</ul>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (this.props.isRoot) {\n\t\t\tif (this.props.triggerType === 'formula') {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div className=\"slds-expression__options\">{triggerCombobox}</div>\n\t\t\t\t\t\t{body}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={classNames(this.props.className)} id={this.getId()}>\n\t\t\t\t\t<div className=\"slds-expression__options\">{triggerCombobox}</div>\n\t\t\t\t\t{body}\n\t\t\t\t\t{buttons}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName={classNames('slds-expression__group', this.props.className)}\n\t\t\t\tid={this.getId()}\n\t\t\t\tref={(rootNode) => {\n\t\t\t\t\tthis.rootNode = rootNode;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<legend className=\"slds-expression__legend slds-expression__legend_group\">\n\t\t\t\t\t\t<span>{labels.label}</span>\n\t\t\t\t\t\t<span className=\"slds-assistive-text\">{assistiveText.label}</span>\n\t\t\t\t\t</legend>\n\t\t\t\t\t<div className=\"slds-expression__options\">{triggerCombobox}</div>\n\t\t\t\t\t{body}\n\t\t\t\t\t{buttons}\n\t\t\t\t</fieldset>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nExpressionGroup.displayName = EXPRESSION_GROUP;\nExpressionGroup.propTypes = propTypes;\nExpressionGroup.defaultProps = defaultProps;\n\nexport default ExpressionGroup;\n"],"file":"group.js"}