{"version":3,"sources":["../../../../.tmp-es/components/page-header/private/detail-block.jsx"],"names":["React","Component","PropTypes","classnames","Tooltip","displayName","propTypes","className","oneOfType","array","object","string","content","node","flavor","label","truncate","bool","defaultProps","DetailBlock","props","state","showTooltip","renderFieldTruncation","prevProps","labelClasses","field","fieldContentRef","display","fieldContent","isTruncated","scrollWidth","offsetWidth","setState","classes","renderLabel","renderContentWithTooltip","renderContent"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Tooltip from '../../tooltip';\n\nconst displayName = 'PageHeaderDetailRow';\nconst propTypes = {\n\t/**\n\t * Optional class name\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * The content property can be a string or a React element\n\t */\n\tcontent: PropTypes.node,\n\t/**\n\t * Sets the 'flavor' of a block, which adds the following sizing class: `slds-size_${flavor}`\n\t */\n\tflavor: PropTypes.string,\n\t/**\n\t * Sets the label of a detail block\n\t */\n\tlabel: PropTypes.node,\n\t/**\n\t * Sets whether the fields truncate\n\t */\n\ttruncate: PropTypes.bool,\n};\n\nconst defaultProps = {\n\tcontent: '',\n\tlabel: '',\n\ttruncate: true,\n};\n\nclass DetailBlock extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showTooltip: false };\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.renderFieldTruncation();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.content !== prevProps.content) {\n\t\t\tthis.renderFieldTruncation();\n\t\t}\n\t}\n\n\trenderContent() {\n\t\tconst { content, truncate } = this.props;\n\n\t\tif (typeof content === 'string') {\n\t\t\tconst labelClasses = classnames({ 'slds-truncate': truncate });\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName={labelClasses}\n\t\t\t\t\tref={(field) => {\n\t\t\t\t\t\tthis.fieldContentRef = field;\n\t\t\t\t\t}}\n\t\t\t\t\ttitle={content}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn content;\n\t}\n\n\trenderContentWithTooltip() {\n\t\tconst { content, truncate } = this.props;\n\t\tconst labelClasses = classnames({ 'slds-truncate': truncate });\n\n\t\treturn (\n\t\t\t<Tooltip align=\"top\" title={content} triggerStyle={{ display: 'inline' }}>\n\t\t\t\t<div className={labelClasses} tabIndex=\"0\" title={content}>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t);\n\t}\n\n\trenderFieldTruncation() {\n\t\tconst fieldContent = this.fieldContentRef;\n\t\tconst isTruncated =\n\t\t\tfieldContent && fieldContent.scrollWidth > fieldContent.offsetWidth;\n\n\t\tif (isTruncated) {\n\t\t\tthis.setState({ showTooltip: true });\n\t\t} else {\n\t\t\tthis.setState({ showTooltip: false });\n\t\t}\n\t}\n\n\trenderLabel() {\n\t\tconst { label, truncate } = this.props;\n\n\t\tif (typeof label === 'string') {\n\t\t\tconst labelClasses = classnames('slds-text-title', {\n\t\t\t\t'slds-truncate': truncate,\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<div className={labelClasses} title={label}>\n\t\t\t\t\t{label}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn label;\n\t}\n\n\trender() {\n\t\tconst { className, flavor } = this.props;\n\n\t\tconst classes = classnames('slds-page-header__detail-block', className, {\n\t\t\t[`slds-size_${flavor}`]: flavor,\n\t\t});\n\n\t\treturn (\n\t\t\t<li className={classes}>\n\t\t\t\t{this.renderLabel()}\n\t\t\t\t{this.state.showTooltip\n\t\t\t\t\t? this.renderContentWithTooltip()\n\t\t\t\t\t: this.renderContent()}\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nDetailBlock.displayName = displayName;\nDetailBlock.propTypes = propTypes;\nDetailBlock.defaultProps = defaultProps;\n\nexport default DetailBlock;\n"],"file":"detail-block.js"}