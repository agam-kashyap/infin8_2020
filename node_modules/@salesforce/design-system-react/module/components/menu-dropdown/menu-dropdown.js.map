{"version":3,"sources":["../../../.tmp-es/components/menu-dropdown/menu-dropdown.jsx"],"names":["React","PropTypes","ReactDOM","requiredIf","classNames","isFunction","isEqual","shortid","Dialog","List","ListItem","ListItemLabel","DefaultTrigger","checkProps","componentDoc","EventUtil","KeyBuffer","keyboardNavigate","KEYS","MENU_DROPDOWN","MENU_DROPDOWN_TRIGGER","LIST","documentDefined","document","overlay","createElement","style","top","left","width","height","position","currentOpenDropdown","DropdownNubbinPositions","noop","itemIsSelectable","item","type","disabled","getNavigableItems","items","navigableItems","indexes","keyBuffer","Array","isArray","forEach","index","push","text","label","toLowerCase","getMenu","componentRef","findDOMNode","querySelector","getMenuItem","menuItemId","context","menuItem","getElementById","DropdownToDialogNubbinMapping","bottom","propTypes","align","oneOf","assistiveText","object","buttonClassName","oneOfType","array","string","buttonInverse","bool","buttonVariant","checkmark","children","node","className","containerClassName","hasStaticAlignment","hint","hoverCloseDelay","number","iconCategory","props","iconName","iconPosition","iconVariant","iconSize","id","inverse","isOpen","listItemRenderer","func","length","menuPosition","menuStyle","nubbinPosition","onBlur","onClick","onFocus","openOn","onKeyDown","onMouseDown","onMouseEnter","onMouseLeave","onSelect","onOpen","onClose","options","tabIndex","value","tooltip","tooltipMenuItem","triggerClassName","multiple","defaultProps","MenuDropdown","generatedId","state","foundIndex","some","element","undefined","menuId","getId","isHover","isUnmounting","trigger","focus","list","listItems","nextProps","values","currentIndices","filter","getIndexByValue","map","selectedIndices","selectedIndex","triggerRendered","setState","triggerContainer","listItem","focusedIndex","handleKeyboardFocus","getIsOpen","handleClose","event","handleOpenForHover","clearTimeout","isClosing","setTimeout","handleCloseForHover","handleOpen","setFocus","indexOf","concat","deselectIndex","currentSelected","splice","option","getValueByIndex","optionIndex","keyCode","ENTER","SPACE","DOWN","UP","trap","TAB","handleKeyboardNavigate","key","handleSelect","target","toggleOpen","handleCancel","componentContext","currentFocusedIndex","menu","getListItemId","focusMenuItem","scrollToMenuItem","getElementsByTagName","menuHeight","offsetHeight","menuTop","scrollTop","menuItemTop","offsetTop","menuBottom","menuItemBottom","customListProps","saveRefToListItem","getListItemRenderer","saveRefToList","customContent","customContentWithListPropInjection","Children","child","displayName","renderDefaultMenuContent","clonedCustomContent","cloneElement","handleClickCustomContent","generate","outsideClickIgnoreClass","hasNubbin","positionClassName","positions","split","isInline","menuStylesBase","transform","inheritTargetWidth","offset","handleKeyDown","renderMenuContent","appendChild","parentNode","removeChild","currentSelectedIndices","getCurrentSelectedIndices","prevProps","nextState","renderOverlay","CurrentTrigger","CustomTriggerChildProps","renderDialog","handleClick","handleFocus","handleMouseEnter","handleMouseLeave","saveRefToTriggerContainer","saveRefToTrigger","Component","contextTypes","iconPath"],"mappings":"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","sourcesContent":["/* eslint-disable max-lines */\n/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// Implements the [Dropdown design pattern](https://www.lightningdesignsystem.com/components/menus/#flavor-dropdown) in React. Child elements that do not have the display name of the value of `MENU_DROPDOWN_TRIGGER` in `components/constants.js` will be considered custom content and rendered in the popover.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport requiredIf from 'react-required-if';\n\nimport classNames from 'classnames';\n\n// ### isFunction\nimport isFunction from 'lodash.isfunction';\nimport isEqual from 'lodash.isequal';\n\nimport shortid from 'shortid';\n\n// ### Children\nimport Dialog from '../utilities/dialog';\nimport List from '../utilities/menu-list';\nimport ListItem from '../utilities/menu-list/item';\nimport ListItemLabel from '../utilities/menu-list/item-label';\n\n// This is the the default Dropdown Trigger, which expects one button as a child.\nimport DefaultTrigger from './button-trigger';\n\n// This component's `checkProps` which issues warnings to developers about properties\n// when in development mode (similar to React's built in development tools)\nimport checkProps from './check-props';\nimport componentDoc from './component.json';\n\nimport EventUtil from '../../utilities/event';\nimport KeyBuffer from '../../utilities/key-buffer';\nimport keyboardNavigate from '../../utilities/keyboard-navigate';\nimport KEYS from '../../utilities/key-code';\nimport {\n\tMENU_DROPDOWN,\n\tMENU_DROPDOWN_TRIGGER,\n\tLIST,\n} from '../../utilities/constants';\n\nconst documentDefined = typeof document !== 'undefined';\n\n// The overlay is an optional way to allow the dropdown to close on outside\n// clicks even when those clicks are over areas that wouldn't normally fire\n// click or touch events (for example, iframes). A single overlay is shared\n// between all dropdowns in the app.\nconst overlay = documentDefined\n\t? document.createElement('span')\n\t: { style: {} };\noverlay.style.top = 0;\noverlay.style.left = 0;\noverlay.style.width = '100%';\noverlay.style.height = '100%';\noverlay.style.position = 'absolute';\n\nlet currentOpenDropdown;\n\nconst DropdownNubbinPositions = [\n\t'top left',\n\t'top',\n\t'top right',\n\t'bottom left',\n\t'bottom',\n\t'bottom right',\n];\n\n// # Keyboard Navigable mixin\n\nconst noop = () => {};\n\nconst itemIsSelectable = (item) =>\n\titem.type !== 'header' && item.type !== 'divider' && !item.disabled;\n\nconst getNavigableItems = (items) => {\n\tconst navigableItems = [];\n\tnavigableItems.indexes = [];\n\tnavigableItems.keyBuffer = new KeyBuffer();\n\n\tif (Array.isArray(items)) {\n\t\titems.forEach((item, index) => {\n\t\t\tif (itemIsSelectable(item)) {\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tnavigableItems.push({\n\t\t\t\t\tindex,\n\t\t\t\t\ttext: `${item.label}`.toLowerCase(),\n\t\t\t\t});\n\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tnavigableItems.indexes.push(index);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn navigableItems;\n};\n\nfunction getMenu(componentRef) {\n\treturn ReactDOM.findDOMNode(componentRef).querySelector('ul.dropdown__list'); // eslint-disable-line react/no-find-dom-node\n}\n\nfunction getMenuItem(menuItemId, context = document) {\n\tlet menuItem;\n\n\tif (menuItemId) {\n\t\tmenuItem = context.getElementById(menuItemId);\n\t}\n\n\treturn menuItem;\n}\n\n/*\n* Dropdowns with nubbins have a different API from other Dialogs\n*\n* Dialog receives an alignment position and whether it has a nubbin. The nubbin position is inferred from the align.\n* Dropdowns have a nubbinPosition which dictates the align, but in an inverse fashion which then gets inversed back by the Dialog.\n*\n* Since Dialog is the future API and we don't want to break backwards compatability, we currently map to the Dialog api here. Even if Dialog will map it again.\n* TODO - deprecate nubbinPosition in favor for additional `align` values and a flag to show a nubbin.\n*/\nconst DropdownToDialogNubbinMapping = {\n\ttop: 'bottom',\n\t'top left': 'bottom left',\n\t'top right': 'bottom right',\n\n\tbottom: 'top',\n\t'bottom left': 'top left',\n\t'bottom right': 'top right',\n};\n\nconst propTypes = {\n\t/**\n\t * Aligns the menu center, right, or left respective to the trigger. This is not intended for use with `nubbinPosition`.\n\t */\n\talign: PropTypes.oneOf(['center', 'left', 'right']),\n\t/**\n\t * This prop is passed onto the triggering `Button`. Text that is visually hidden but read aloud by screenreaders to tell the user what the icon means. You can omit this prop if you are using the `label` prop.\n\t */\n\tassistiveText: PropTypes.object,\n\t/**\n\t * CSS classes to be added to triggering button.\n\t */\n\tbuttonClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * If true, button/icon is white. Meant for buttons or utility icons on dark backgrounds.\n\t */\n\tbuttonInverse: PropTypes.bool,\n\t/**\n\t * This prop is passed onto the triggering `Button`. Determines variant of the Button component that triggers dropdown.\n\t */\n\tbuttonVariant: PropTypes.oneOf([\n\t\t'base',\n\t\t'neutral',\n\t\t'brand',\n\t\t'destructive',\n\t\t'icon',\n\t]),\n\t/**\n\t * If true, renders checkmark icon on the selected Menu Item.\n\t */\n\tcheckmark: PropTypes.bool,\n\t/**\n\t * If you need custom content _and_ a list, use a `<Popover>` instead.\n\t */\n\tchildren: PropTypes.node,\n\t/**\n\t * CSS classes to be added to dropdown menu.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * By default, these class names will be added to the absolutely-positioned `Dialog` component.\n\t */\n\tcontainerClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * This prop is passed onto the triggering `Button`. Prevent dropdown menu from opening. Also applies disabled styling to trigger button.\n\t */\n\tdisabled: PropTypes.bool,\n\t/**\n\t * Prevents the dropdown from changing position based on the viewport/window. If set to true your dropdowns can extend outside the viewport _and_ overflow outside of a scrolling parent. If this happens, you might want to consider making the dropdowns contents scrollable to fit the menu on the screen. `hasStaticAlignment` disables this behavior and allows this component to extend beyond boundary elements. _Not tested._\n\t */\n\thasStaticAlignment: PropTypes.bool,\n\t/**\n\t * This prop is passed onto the triggering `Button`. Associates an icon button with another element on the page by changes the color of the SVG. Please reference <a href=\"http://www.lightningdesignsystem.com/components/buttons/#hint\">Lightning Design System Buttons > Hint</a>.\n\t */\n\thint: PropTypes.bool,\n\t/**\n\t * Delay on menu closing in milliseconds.\n\t */\n\thoverCloseDelay: PropTypes.number,\n\t/**\n\t * Name of the icon category. Visit <a href=\"http://www.lightningdesignsystem.com/resources/icons\">Lightning Design System Icons</a> to reference icon categories.\n\t */\n\ticonCategory: requiredIf(\n\t\tPropTypes.oneOf(['action', 'custom', 'doctype', 'standard', 'utility']),\n\t\t(props) => !!props.iconName\n\t),\n\t/**\n\t * Name of the icon. Visit <a href=\"http://www.lightningdesignsystem.com/resources/icons\">Lightning Design System Icons</a> to reference icon names.\n\t */\n\ticonName: PropTypes.string,\n\t/**\n\t * If omitted, icon position is centered.\n\t */\n\ticonPosition: PropTypes.oneOf(['left', 'right']),\n\t/**\n\t * For icon variants, please reference <a href=\"http://www.lightningdesignsystem.com/components/buttons/#icon\">Lightning Design System Icons</a>.\n\t */\n\ticonVariant: PropTypes.oneOf([\n\t\t'bare',\n\t\t'container',\n\t\t'border',\n\t\t'border-filled',\n\t\t'small',\n\t\t'more',\n\t]),\n\t/**\n\t * Determines the size of the icon.\n\t */\n\ticonSize: PropTypes.oneOf(['x-small', 'small', 'medium', 'large']),\n\t/**\n\t * A unique ID is needed in order to support keyboard navigation, ARIA support, and connect the dropdown to the triggering button.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * Adds inverse class to the dropdown\n\t */\n\tinverse: PropTypes.bool,\n\t/**\n\t * Forces the dropdown to be open or closed. See controlled/uncontrolled callback/prop pattern for more on suggested use view [Concepts and Best Practices](https://github.com/salesforce-ux/design-system-react/blob/master/CONTRIBUTING.md#concepts-and-best-practices)\n\t */\n\tisOpen: PropTypes.bool,\n\t/**\n\t * This prop is passed onto the triggering `Button`. Text within the trigger button.\n\t */\n\tlabel: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t/**\n\t * Custom element that overrides the default Menu Item component.\n\t */\n\tlistItemRenderer: PropTypes.func,\n\t/**\n\t * This prop is passed into the List for the menu. Pass null to make it the size of the content, or a string with an integer from here: https://www.lightningdesignsystem.com/components/menus/#flavor-dropdown-height\n\t */\n\tlength: PropTypes.oneOf([null, '5', '7', '10', 5, 7, 10]),\n\t/**\n\t * Please select one of the following:\n\t * * `absolute` - (default) The dialog will use `position: absolute` and style attributes to position itself. This allows inverted placement or flipping of the dialog.\n\t * * `overflowBoundaryElement` - The dialog will overflow scrolling parents. Use on elements that are aligned to the left or right of their target and don't care about the target being within a scrolling parent. Typically this is a popover or tooltip. Dropdown menus can usually open up and down if no room exists. In order to achieve this a portal element will be created and attached to `body`. This element will render into that detached render tree.\n\t * * `relative` - No styling or portals will be used. Menus will be positioned relative to their triggers. This is a great choice for HTML snapshot testing.\n\t */\n\tmenuPosition: PropTypes.oneOf([\n\t\t'absolute',\n\t\t'overflowBoundaryElement',\n\t\t'relative',\n\t]),\n\t/**\n\t * Style applied to menu element (that is the `.slds-dropdown` element)\n\t */\n\tmenuStyle: PropTypes.object,\n\t/**\n\t * Positions dropdown menu with a nubbin--that is the arrow notch. The placement options correspond to the placement of the nubbin. This is implemeted with CSS classes and is best used with a `Button` with \"icon container\" styling (`iconVariant=\"container\"`). Use with `isInline` prop, since positioning is determined by CSS via absolute-relative positioning, and using an absolutely positioned menu will not position the menu correctly without manual offsets.\n\t */\n\tnubbinPosition: PropTypes.oneOf([\n\t\t'top left',\n\t\t'top',\n\t\t'top right',\n\t\t'bottom left',\n\t\t'bottom',\n\t\t'bottom right',\n\t]),\n\t/**\n\t * Is only called when `openOn` is set to `hover` and when the triggering button loses focus.\n\t */\n\tonBlur: PropTypes.func,\n\t/**\n\t * This prop is passed onto the triggering `Button`. Triggered when the trigger button is clicked.\n\t */\n\tonClick: PropTypes.func,\n\t/**\n\t * Is only called when `openOn` is set to `hover` and when the triggering button gains focus.\n\t */\n\tonFocus: PropTypes.func,\n\t/**\n\t * Determines if mouse hover or click opens or closes the dropdown menu. The default of `click` opens the menu on click, touch, or keyboard navigation and is highly recommended to comply with accessibility standards. The other options are `hover` which opens when the mouse enters the focusable area, and `hybrid` which causes the menu to open on clicking of the trigger, but closes the menu when the mouse leaves the menu and trigger area. If you are planning on using `hover` or `hybrid`, please pause a moment and reconsider.\n\t */\n\topenOn: PropTypes.oneOf(['hover', 'click', 'hybrid']),\n\t/**\n\t * Called when a key pressed.\n\t */\n\tonKeyDown: PropTypes.func,\n\t/**\n\t * Called when mouse clicks down on the trigger button.\n\t */\n\tonMouseDown: PropTypes.func,\n\t/**\n\t * Called when mouse hovers over the trigger button. This is only called if `this.props.openOn` is set to `hover`.\n\t */\n\tonMouseEnter: PropTypes.func,\n\t/**\n\t * Called when mouse hover leaves the trigger button. This is only called if `this.props.openOn` is set to `hover`.\n\t */\n\tonMouseLeave: PropTypes.func,\n\t/**\n\t * Triggered when an item in the menu is clicked.\n\t */\n\tonSelect: PropTypes.func,\n\t/**\n\t * Triggered when the dropdown is opened.\n\t */\n\tonOpen: PropTypes.func,\n\t/**\n\t * Triggered when the dropdown is closed.\n\t */\n\tonClose: PropTypes.func,\n\t/**\n\t * An array of menu item objects. `className` and `id` object keys are applied to the `li` DOM node. `divider` key can have a value of `top` or `bottom`. `rightIcon` and `leftIcon` are not actually `Icon` components, but prop objects that get passed to an `Icon` component. The `href` key will be added to the `a` and its default click event will be prevented. Here is a sample:\n\t * ```\n\t * [{\n\t *   className: 'custom-li-class',\n\t *     divider: 'bottom',\n\t *     label: 'A Header',\n\t *     type: 'header'\n\t *  }, {\n\t *     href: 'http://sfdc.co/',\n\t *     id: 'custom-li-id',\n\t *     label: 'Has a value',\n\t *   leftIcon: {\n\t *    name: 'settings',\n\t *    category: 'utility'\n\t *   },\n\t *   rightIcon: {\n\t *    name: 'settings',\n\t *    category: 'utility'\n\t *   },\n\t *     type: 'item',\n\t *     value: 'B0'\n\t *  }, {\n\t *   tooltipContent: 'Displays a tooltip when hovered over with this content. The `tooltipMenuItem` prop must be set for this to work.'\n\t *   type: 'divider'\n\t * }]\n\t * ```\n\t */\n\toptions: PropTypes.array,\n\t/**\n\t * An object of CSS styles that are applied to the triggering button.\n\t */\n\tstyle: PropTypes.object,\n\t/**\n\t * Write <code>\"-1\"</code> if you don't want the user to tab to the button.\n\t */\n\ttabIndex: PropTypes.string,\n\t/**\n\t * If `true`, adds a transparent overlay when the menu is open to handle outside clicks. Allows clicks on iframes to be captured, but also forces a double-click to interact with other elements. If a function is passed, custom overlay logic may be defined by the app.\n\t */\n\toverlay: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\t/**\n\t * Current selected menu item.\n\t */\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.array,\n\t]),\n\t/**\n\t * This prop is passed onto the triggering `Button`. It creates a tooltip with the content of the `node` provided.\n\t */\n\ttooltip: PropTypes.node,\n\t/**\n\t * Accepts a `Tooltip` component to be used as the template for menu item tooltips that appear via the `tooltipContent` options object attribute. Must be present for `tooltipContent` to work\n\t */\n\ttooltipMenuItem: PropTypes.node,\n\t/**\n\t * CSS classes to be added to wrapping trigger `div` around the button.\n\t */\n\ttriggerClassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Whether this dropdown supports multi select.\n\t */\n\tmultiple: PropTypes.bool,\n\t/**\n\t *  To adjust the width of the menu dropdown\n\t */\n\twidth: PropTypes.oneOf([\n\t\t'xx-small',\n\t\t'x-small',\n\t\t'small',\n\t\t'medium',\n\t\t'bottom',\n\t\t'large',\n\t]),\n};\n\nconst defaultProps = {\n\talign: 'left',\n\thoverCloseDelay: 300,\n\tlength: '5',\n\tmenuPosition: 'absolute',\n\topenOn: 'click',\n\twidth: 'medium',\n\tinverse: false,\n};\n\n/**\n * The MenuDropdown component is a variant of the Lightning Design System Menu component. This component\n * may require a polyfill such as [classList](https://github.com/yola/classlist-polyfill) due to\n * [react-onclickoutside](https://github.com/Pomax/react-onclickoutside) if Internet Explorer 11\n * support is needed.\n *\n * This component is wrapped in a [higher order component to listen for clicks outside itself](https://github.com/kentor/react-click-outside) and thus requires use of `ReactDOM`.\n */\nclass MenuDropdown extends React.Component {\n\tstatic displayName = MENU_DROPDOWN;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// `checkProps` issues warnings to developers about properties (similar to React's built in development tools)\n\t\tcheckProps(MENU_DROPDOWN, props, componentDoc);\n\n\t\tthis.generatedId = shortid.generate();\n\n\t\tconst currentSelectedIndices = this.getCurrentSelectedIndices(props);\n\n\t\tthis.state = {\n\t\t\tfocusedIndex: -1,\n\t\t\tselectedIndex: -1,\n\t\t\tselectedIndices: [],\n\t\t\t...currentSelectedIndices,\n\t\t};\n\n\t\tthis.navigableItems = getNavigableItems(props.options);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.value !== this.props.value) {\n\t\t\tconst nextState = this.getCurrentSelectedIndices(prevProps);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(nextState);\n\t\t}\n\n\t\tif (prevProps.isOpen !== this.props.isOpen) {\n\t\t\tthis.setFocus();\n\t\t}\n\n\t\tif (!isEqual(prevProps.options, this.props.options)) {\n\t\t\tthis.navigableItems = getNavigableItems(prevProps.options);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (currentOpenDropdown === this) {\n\t\t\tcurrentOpenDropdown = undefined;\n\t\t}\n\t\tthis.isUnmounting = true;\n\t\tthis.renderOverlay(false);\n\t}\n\n\tgetId = () => this.props.id || this.generatedId;\n\n\tgetIsOpen = () =>\n\t\t!!(typeof this.props.isOpen === 'boolean'\n\t\t\t? this.props.isOpen\n\t\t\t: this.state.isOpen);\n\n\tgetIndexByValue = (value, options) => {\n\t\tlet foundIndex = -1;\n\n\t\tif (options && options.length) {\n\t\t\toptions.some((element, index) => {\n\t\t\t\tif (element && element.value === value) {\n\t\t\t\t\tfoundIndex = index;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\n\t\treturn foundIndex;\n\t};\n\n\tgetValueByIndex = (index) => this.props.options[index];\n\n\tgetListItemRenderer = () =>\n\t\tthis.props.listItemRenderer ? this.props.listItemRenderer : ListItemLabel;\n\n\tgetListItemId = (index) => {\n\t\tlet menuItemId;\n\n\t\tif (index !== undefined) {\n\t\t\tconst menuId = isFunction(this.getId) ? this.getId() : this.props.id;\n\t\t\tmenuItemId = `${menuId}-item-${index}`;\n\t\t}\n\n\t\treturn menuItemId;\n\t};\n\n\tsetFocus = () => {\n\t\tif (!this.isHover && !this.isUnmounting && this.trigger) {\n\t\t\tReactDOM.findDOMNode(this.trigger).focus(); // eslint-disable-line react/no-find-dom-node\n\t\t}\n\t};\n\n\tgetMenu = () => ReactDOM.findDOMNode(this.list); // eslint-disable-line react/no-find-dom-node\n\n\tgetMenuItem = (index) => {\n\t\tif (index !== undefined && this.listItems) {\n\t\t\treturn ReactDOM.findDOMNode(this.listItems[index]); // eslint-disable-line react/no-find-dom-node\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n\tgetCurrentSelectedIndices = (nextProps) => {\n\t\tif (this.props.multiple === true) {\n\t\t\tlet values = [];\n\t\t\tlet currentIndices = [];\n\t\t\tif (!Array.isArray(nextProps.value)) {\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tvalues.push(nextProps.value);\n\t\t\t} else {\n\t\t\t\tvalues = nextProps.value;\n\t\t\t}\n\t\t\tvalues = values.filter(\n\t\t\t\t(value) => this.getIndexByValue(value, nextProps.options) !== -1\n\t\t\t);\n\t\t\tcurrentIndices = values.map((value) =>\n\t\t\t\tthis.getIndexByValue(value, nextProps.options)\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tselectedIndices: currentIndices,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tselectedIndex: this.getIndexByValue(nextProps.value, nextProps.options),\n\t\t};\n\t};\n\n\t// Trigger opens, closes, and recieves focus on close\n\tsaveRefToTrigger = (trigger) => {\n\t\tthis.trigger = trigger;\n\n\t\tif (!this.state.triggerRendered) {\n\t\t\tthis.setState({ triggerRendered: true });\n\t\t}\n\t};\n\n\t// TriggerContainer is the wrapping outer DOM element which may differ from the actual trigger which is most likely a `button`.\n\tsaveRefToTriggerContainer = (triggerContainer) => {\n\t\tthis.triggerContainer = triggerContainer;\n\t\tif (!this.trigger) this.trigger = triggerContainer;\n\t};\n\n\tsaveRefToList = (list) => {\n\t\tthis.list = list;\n\t};\n\n\tsaveRefToListItem = (listItem, index) => {\n\t\tif (!this.listItems) {\n\t\t\tthis.listItems = {};\n\t\t}\n\n\t\tthis.listItems[index] = listItem;\n\n\t\tif (index === this.state.focusedIndex) {\n\t\t\tthis.handleKeyboardFocus(this.state.focusedIndex);\n\t\t}\n\t};\n\n\thandleClose = () => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (isOpen) {\n\t\t\tif (currentOpenDropdown === this) {\n\t\t\t\tcurrentOpenDropdown = undefined;\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t});\n\n\t\t\tthis.isHover = false;\n\n\t\t\tif (this.props.onClose) {\n\t\t\t\tthis.props.onClose();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleOpen = () => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (!isOpen) {\n\t\t\tif (currentOpenDropdown && isFunction(currentOpenDropdown.handleClose)) {\n\t\t\t\tcurrentOpenDropdown.handleClose();\n\t\t\t}\n\n\t\t\tcurrentOpenDropdown = this;\n\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t});\n\n\t\t\tif (this.props.onOpen) {\n\t\t\t\tthis.props.onOpen();\n\t\t\t}\n\t\t}\n\t};\n\n\thandleMouseEnter = (event) => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tthis.isHover = true;\n\n\t\tif (!isOpen && this.props.openOn === 'hover') {\n\t\t\tthis.handleOpenForHover();\n\t\t} else {\n\t\t\t// we want this clear when openOn is hover or hybrid\n\t\t\tclearTimeout(this.isClosing);\n\t\t}\n\n\t\tif (this.props.onMouseEnter) {\n\t\t\tthis.props.onMouseEnter(event);\n\t\t}\n\t};\n\n\thandleMouseLeave = (event) => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (isOpen) {\n\t\t\tthis.isClosing = setTimeout(() => {\n\t\t\t\tthis.handleCloseForHover();\n\t\t\t}, this.props.hoverCloseDelay);\n\t\t}\n\n\t\tif (this.props.onMouseLeave) {\n\t\t\tthis.props.onMouseLeave(event);\n\t\t}\n\t};\n\n\t// Special handlers for openOn === hover\n\t// calling onClick inside onMouseEnter/Leave used to cause double clicking the trigger on hover which caused closing and reopening of the dropdown\n\thandleCloseForHover = () => {\n\t\tconst isOpen = this.getIsOpen();\n\t\tif (isOpen) {\n\t\t\tthis.handleClose();\n\t\t}\n\t};\n\n\thandleOpenForHover = () => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (!isOpen) {\n\t\t\tthis.handleOpen();\n\t\t\tthis.setFocus();\n\t\t}\n\t};\n\n\thandleClick = (event) => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (!isOpen) {\n\t\t\tthis.handleOpen();\n\t\t\tthis.setFocus();\n\t\t} else {\n\t\t\tthis.handleClose();\n\t\t}\n\n\t\tif (this.props.onClick) {\n\t\t\tthis.props.onClick(event);\n\t\t}\n\t};\n\n\thandleFocus = (event) => {\n\t\tif (this.props.onFocus) {\n\t\t\tthis.props.onFocus(event);\n\t\t}\n\t};\n\n\thandleClickCustomContent = () => {\n\t\tthis.setFocus();\n\t\tthis.handleClose();\n\n\t\tif (this.props.onSelect) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\t};\n\n\thandleSelect = (index) => {\n\t\tif (!this.props.multiple) {\n\t\t\tthis.setState({ selectedIndex: index });\n\t\t\tthis.handleClose();\n\t\t\tthis.setFocus();\n\t\t} else if (\n\t\t\tthis.props.multiple &&\n\t\t\tthis.state.selectedIndices.indexOf(index) === -1\n\t\t) {\n\t\t\t// eslint-disable-next-line react/no-access-state-in-setstate\n\t\t\tconst currentIndices = this.state.selectedIndices.concat(index);\n\t\t\tthis.setState({\n\t\t\t\tselectedIndices: currentIndices,\n\t\t\t});\n\t\t} else if (this.props.multiple) {\n\t\t\tconst deselectIndex = this.state.selectedIndices.indexOf(index);\n\t\t\t// eslint-disable-next-line react/no-access-state-in-setstate\n\t\t\tconst currentSelected = this.state.selectedIndices;\n\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\tcurrentSelected.splice(deselectIndex, 1);\n\t\t\tthis.setState({\n\t\t\t\tselectedIndices: currentSelected,\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.onSelect) {\n\t\t\tconst option = this.getValueByIndex(index);\n\t\t\tthis.props.onSelect(option, { option, optionIndex: index });\n\t\t}\n\t};\n\n\thandleKeyDown = (event) => {\n\t\tif (event.keyCode) {\n\t\t\tif (\n\t\t\t\tevent.keyCode === KEYS.ENTER ||\n\t\t\t\tevent.keyCode === KEYS.SPACE ||\n\t\t\t\tevent.keyCode === KEYS.DOWN ||\n\t\t\t\tevent.keyCode === KEYS.UP\n\t\t\t) {\n\t\t\t\tEventUtil.trap(event);\n\t\t\t}\n\n\t\t\tif (event.keyCode !== KEYS.TAB) {\n\t\t\t\tconst isOpen = this.getIsOpen();\n\n\t\t\t\tthis.handleKeyboardNavigate({\n\t\t\t\t\tevent,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tkey: event.key,\n\t\t\t\t\tkeyCode: event.keyCode,\n\t\t\t\t\tonSelect: this.handleSelect,\n\t\t\t\t\ttarget: event.target,\n\t\t\t\t\ttoggleOpen: this.toggleOpen,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.handleCancel();\n\t\t\t}\n\n\t\t\tif (this.props.onKeyDown) {\n\t\t\t\tthis.props.onKeyDown(event);\n\t\t\t}\n\t\t}\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setFocus();\n\t\tthis.handleClose();\n\t};\n\n\thandleClickOutside = () => {\n\t\tthis.handleClose();\n\t};\n\n\t// Handling open / close toggling is optional, and a default implementation is provided for handling focus, but selection _must_ be handled\n\thandleKeyboardNavigate = ({\n\t\tevent,\n\t\tisOpen = true,\n\t\tkeyCode,\n\t\tonFocus = this.handleKeyboardFocus,\n\t\tonSelect,\n\t\ttarget,\n\t\ttoggleOpen = noop,\n\t}) => {\n\t\tkeyboardNavigate({\n\t\t\tcomponentContext: this,\n\t\t\tcurrentFocusedIndex: this.state.focusedIndex,\n\t\t\tevent,\n\t\t\tisOpen,\n\t\t\tkeyCode,\n\t\t\tnavigableItems: this.navigableItems,\n\t\t\tonFocus,\n\t\t\tonSelect,\n\t\t\ttarget,\n\t\t\ttoggleOpen,\n\t\t});\n\t};\n\n\t// This is a bit of an anti-pattern, but it has the upside of being a nice default. Component authors can always override to only set state and do their own focusing in their subcomponents.\n\thandleKeyboardFocus = (focusedIndex) => {\n\t\tif (this.state.focusedIndex !== focusedIndex) {\n\t\t\tthis.setState({ focusedIndex });\n\t\t}\n\n\t\tconst menu = isFunction(this.getMenu) ? this.getMenu() : getMenu(this);\n\n\t\tconst menuItem = isFunction(this.getMenuItem)\n\t\t\t? this.getMenuItem(focusedIndex, menu)\n\t\t\t: getMenuItem(this.getListItemId(focusedIndex));\n\n\t\tif (menuItem) {\n\t\t\tthis.focusMenuItem(menuItem);\n\t\t\tthis.scrollToMenuItem(menu, menuItem);\n\t\t}\n\t};\n\n\tfocusMenuItem = (menuItem) => {\n\t\tmenuItem.getElementsByTagName('a')[0].focus();\n\t};\n\n\tscrollToMenuItem = (menu, menuItem) => {\n\t\tif (menu && menuItem) {\n\t\t\tconst menuHeight = menu.offsetHeight;\n\n\t\t\tconst menuTop = menu.scrollTop;\n\t\t\tconst menuItemTop = menuItem.offsetTop - menu.offsetTop;\n\n\t\t\tif (menuItemTop < menuTop) {\n\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\tmenu.scrollTop = menuItemTop;\n\t\t\t} else {\n\t\t\t\tconst menuBottom = menuTop + menuHeight + menu.offsetTop;\n\t\t\t\tconst menuItemBottom =\n\t\t\t\t\tmenuItemTop + menuItem.offsetHeight + menu.offsetTop;\n\n\t\t\t\tif (menuItemBottom > menuBottom) {\n\t\t\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\t\t\tmenu.scrollTop = menuItemBottom - menuHeight - menu.offsetTop;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\ttoggleOpen = () => {\n\t\tconst isOpen = this.getIsOpen();\n\t\tthis.setFocus();\n\n\t\tif (isOpen) {\n\t\t\tthis.handleClose();\n\t\t} else {\n\t\t\tthis.handleOpen();\n\t\t}\n\t};\n\n\trenderDefaultMenuContent = (customListProps) => (\n\t\t<List\n\t\t\tkey={`${this.getId()}-dropdown-list`}\n\t\t\tcheckmark={this.props.checkmark}\n\t\t\tgetListItemId={this.getListItemId}\n\t\t\titemRefs={this.saveRefToListItem}\n\t\t\titemRenderer={this.getListItemRenderer()}\n\t\t\tonCancel={this.handleCancel}\n\t\t\tonSelect={this.handleSelect}\n\t\t\toptions={this.props.options}\n\t\t\tref={this.saveRefToList}\n\t\t\tselectedIndex={\n\t\t\t\t!this.props.multiple ? this.state.selectedIndex : undefined\n\t\t\t}\n\t\t\tselectedIndices={\n\t\t\t\tthis.props.multiple ? this.state.selectedIndices : undefined\n\t\t\t}\n\t\t\ttooltipMenuItem={this.props.tooltipMenuItem}\n\t\t\ttriggerId={this.getId()}\n\t\t\tlength={this.props.length}\n\t\t\t{...customListProps}\n\t\t/>\n\t);\n\n\trenderMenuContent = (customContent) => {\n\t\t/**\n\t\t * Custom content for dropdown was a hack done in the past. If there's more than a listbox within a dropdown, then it should be a popover as explained for the `children` prop.\n\t\t *\n\t\t * This code block shows how things are done in the past:\n\t\t * ```\n\t\t * <Dropdown>\n\t\t *   <Trigger>\n\t\t *   <Button iconCategory=\"utility\" iconName=\"settings\" />\n\t\t *   </Trigger>\n\t\t *   <div>Look ma! This is Custom Content.</div>\n\t\t *   <List options={[myArray]}/>\n\t\t * </Dropdown>\n\t\t * ```\n\t\t */\n\t\tlet customContentWithListPropInjection = [];\n\t\t// Dropdown can take a Trigger component as a child and then return it as the parent DOM element.\n\t\tReact.Children.forEach(customContent, (child) => {\n\t\t\tif (child && child.type.displayName === LIST) {\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tcustomContentWithListPropInjection.push(\n\t\t\t\t\tthis.renderDefaultMenuContent(child.props)\n\t\t\t\t);\n\t\t\t} else if (child) {\n\t\t\t\tconst clonedCustomContent = React.cloneElement(child, {\n\t\t\t\t\tonClick: this.handleClickCustomContent,\n\t\t\t\t\tkey: shortid.generate(),\n\t\t\t\t});\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tcustomContentWithListPropInjection.push(clonedCustomContent);\n\t\t\t}\n\t\t});\n\n\t\tif (customContentWithListPropInjection.length === 0) {\n\t\t\tcustomContentWithListPropInjection = null;\n\t\t}\n\n\t\treturn (\n\t\t\tcustomContentWithListPropInjection || this.renderDefaultMenuContent()\n\t\t);\n\t};\n\n\trenderDialog = (customContent, isOpen, outsideClickIgnoreClass) => {\n\t\tlet align = 'bottom';\n\t\tlet hasNubbin = false;\n\t\tlet positionClassName = '';\n\n\t\tif (this.props.nubbinPosition) {\n\t\t\thasNubbin = true;\n\t\t\talign = DropdownToDialogNubbinMapping[this.props.nubbinPosition];\n\t\t} else if (this.props.align) {\n\t\t\talign =\n\t\t\t\tthis.props.align === 'center' ? 'bottom' : `bottom ${this.props.align}`;\n\t\t}\n\n\t\tconst positions = DropdownToDialogNubbinMapping[align].split(' ');\n\t\tpositionClassName = classNames(\n\t\t\tpositions.map((position) => `slds-dropdown_${position}`)\n\t\t);\n\n\t\t// FOR BACKWARDS COMPATIBILITY\n\t\tconst menuPosition = this.props.isInline\n\t\t\t? 'relative'\n\t\t\t: this.props.menuPosition; // eslint-disable-line react/prop-types\n\n\t\tconst menuStylesBase = {};\n\t\tif (this.props.align === 'center' && !hasNubbin) {\n\t\t\tmenuStylesBase.transform = 'none';\n\t\t}\n\n\t\treturn isOpen ? (\n\t\t\t<Dialog\n\t\t\t\talign={align}\n\t\t\t\tclassName={classNames(this.props.containerClassName)}\n\t\t\t\tcloseOnTabKey\n\t\t\t\tcontentsClassName={classNames(\n\t\t\t\t\t'slds-dropdown',\n\t\t\t\t\t`slds-dropdown_${this.props.width}`,\n\t\t\t\t\t'slds-text-align_left',\n\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\tthis.props.className,\n\t\t\t\t\tpositionClassName,\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-dropdown_inverse': this.props.inverse,\n\t\t\t\t\t}\n\t\t\t\t)}\n\t\t\t\tcontext={this.context}\n\t\t\t\thasNubbin={hasNubbin}\n\t\t\t\thasStaticAlignment={this.props.hasStaticAlignment}\n\t\t\t\tinheritWidthOf={this.props.inheritTargetWidth ? 'target' : 'none'}\n\t\t\t\toffset={this.props.offset}\n\t\t\t\tonClose={this.handleClose}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\toutsideClickIgnoreClass={outsideClickIgnoreClass}\n\t\t\t\tposition={menuPosition}\n\t\t\t\tstyle={{\n\t\t\t\t\t...menuStylesBase,\n\t\t\t\t\t...this.props.menuStyle,\n\t\t\t\t}}\n\t\t\t\tonRequestTargetElement={() => this.trigger}\n\t\t\t>\n\t\t\t\t{this.renderMenuContent(customContent)}\n\t\t\t</Dialog>\n\t\t) : null;\n\t};\n\n\trenderOverlay = (isOpen) => {\n\t\tif (isFunction(overlay) && documentDefined) {\n\t\t\toverlay(isOpen, overlay);\n\t\t} else if (\n\t\t\tthis.props.overlay &&\n\t\t\tisOpen &&\n\t\t\t!this.overlay &&\n\t\t\tdocumentDefined\n\t\t) {\n\t\t\tthis.overlay = overlay;\n\t\t\tdocument.querySelector('body').appendChild(this.overlay);\n\t\t} else if (!isOpen && this.overlay && this.overlay.parentNode) {\n\t\t\tthis.overlay.parentNode.removeChild(this.overlay);\n\t\t\tthis.overlay = undefined;\n\t\t}\n\t};\n\n\trender() {\n\t\t// Dropdowns are used by other components. The default trigger is a button, but some other components use `li` elements. The following allows `MenuDropdown` to be extended by providing a child component with the displayName of `DropdownTrigger`.\n\t\tlet CurrentTrigger = DefaultTrigger;\n\n\t\tlet CustomTriggerChildProps = {};\n\n\t\t// Child elements that do not have the display name of the value of `MENU_DROPDOWN_TRIGGER` in `components/constants.js` will be considered custom content and rendered in the popover.\n\t\tlet customContent = [];\n\n\t\t// Dropdown can take a Trigger component as a child and then return it as the parent DOM element.\n\t\tReact.Children.forEach(this.props.children, (child) => {\n\t\t\tif (child && child.type.displayName === MENU_DROPDOWN_TRIGGER) {\n\t\t\t\t// `CustomTriggerChildProps` is not used by the default button Trigger, but by other triggers\n\t\t\t\tCustomTriggerChildProps = child.props;\n\t\t\t\tCurrentTrigger = child.type;\n\t\t\t} else if (child) {\n\t\t\t\t// eslint-disable-next-line fp/no-mutating-methods\n\t\t\t\tcustomContent.push(child);\n\t\t\t}\n\t\t});\n\n\t\tif (customContent.length === 0) {\n\t\t\tcustomContent = null;\n\t\t}\n\n\t\tconst outsideClickIgnoreClass = `ignore-click-${this.getId()}`;\n\t\tconst isOpen = !this.props.disabled && this.getIsOpen() && !!this.trigger;\n\n\t\tthis.renderOverlay(isOpen);\n\n\t\t/* Below are three sections of props:\n\t\t - The first are the props that may be given by the dropdown component. These may get deprecated in the future.\n\t\t - The next set of props (`CustomTriggerChildProps`) are props that can be overwritten by the end developer.\n\t\t - The final set are props that should not be overwritten, since they are ones that tie the trigger to the dropdown menu.\n\t\t*/\n\n\t\treturn (\n\t\t\t<CurrentTrigger\n\t\t\t\taria-haspopup\n\t\t\t\tassistiveText={this.props.assistiveText}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\toutsideClickIgnoreClass,\n\t\t\t\t\tthis.props.buttonClassName\n\t\t\t\t)}\n\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\thint={this.props.hint}\n\t\t\t\ticonCategory={this.props.iconCategory}\n\t\t\t\ticonName={this.props.iconName}\n\t\t\t\ticonPosition={this.props.iconPosition}\n\t\t\t\ticonSize={this.props.iconSize}\n\t\t\t\ticonVariant={this.props.iconVariant}\n\t\t\t\tid={this.getId()}\n\t\t\t\tinverse={this.props.buttonInverse}\n\t\t\t\tisOpen={isOpen}\n\t\t\t\tlabel={this.props.label}\n\t\t\t\tmenu={this.renderDialog(customContent, isOpen, outsideClickIgnoreClass)}\n\t\t\t\tonBlur={this.props.onBlur}\n\t\t\t\tonClick={\n\t\t\t\t\tthis.props.openOn === 'click' || this.props.openOn === 'hybrid'\n\t\t\t\t\t\t? this.handleClick\n\t\t\t\t\t\t: this.props.onClick\n\t\t\t\t}\n\t\t\t\tonFocus={this.props.openOn === 'hover' ? this.handleFocus : null}\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\tonMouseDown={this.props.onMouseDown}\n\t\t\t\tonMouseEnter={\n\t\t\t\t\tthis.props.openOn === 'hover' || this.props.openOn === 'hybrid'\n\t\t\t\t\t\t? this.handleMouseEnter\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tonMouseLeave={\n\t\t\t\t\tthis.props.openOn === 'hover' || this.props.openOn === 'hybrid'\n\t\t\t\t\t\t? this.handleMouseLeave\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\topenOn={this.props.openOn}\n\t\t\t\tref={this.saveRefToTriggerContainer}\n\t\t\t\tstyle={this.props.style}\n\t\t\t\ttabIndex={this.props.tabIndex || (isOpen ? '-1' : '0')}\n\t\t\t\ttooltip={this.props.tooltip}\n\t\t\t\ttriggerClassName={this.props.triggerClassName}\n\t\t\t\ttriggerRef={this.saveRefToTrigger}\n\t\t\t\tvariant={this.props.buttonVariant}\n\t\t\t\t{...CustomTriggerChildProps}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nMenuDropdown.contextTypes = {\n\ticonPath: PropTypes.string,\n};\n\nMenuDropdown.propTypes = propTypes;\nMenuDropdown.defaultProps = defaultProps;\n\nexport default MenuDropdown;\nexport { ListItem, ListItemLabel, DropdownNubbinPositions };\n"],"file":"menu-dropdown.js"}